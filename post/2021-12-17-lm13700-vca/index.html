<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.83.0"><meta name=viewport content="width=device-width,initial-scale=1"><title>MiniVCA &#183; benjiaomodular</title><meta name=description content="A linear Voltage Controled Amplifier based around an LM13700 OTA IC."><meta property="og:title" content="MiniVCA"><meta property="og:description" content="A linear Voltage Controled Amplifier based around an LM13700 OTA IC."><meta property="og:type" content="website"><meta property="og:image" content="https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA.small.jpg"><meta property="og:url" content="https://benjiaomodular.com/post/2021-12-17-lm13700-vca/"><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/print.css media=print><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/poole.css><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/syntax.css><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/hyde.css><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/main.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400&family=Exo+2:wght@700&display=swap" rel=stylesheet><link rel=apple-touch-icon-precomposed sizes=144x144 href=/images/favicon/apple-touch-icon.png><link rel="shortcut icon" href=/images/favicon/favicon.ico><link rel="shortcut icon" type=image/png href=/images/favicon/icon-192x192.png><link rel="shortcut icon" sizes=192x192 href=/images/favicon/icon-192x192.png></head><body><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://benjiaomodular.com/><h1>benjiaomodular</h1></a><p class=lead>Benjie's Synth DIY notes.</p></div><nav><ul class=sidebar-nav><li><a href=https://benjiaomodular.com/>Modules</a></li><li><a href=https://benjiaomodular.com/boms/>BOMs</a></li><li><a href=https://benjiaomodular.com/about/>About</a></li><li><a href=https://benjiaomodular.com/references/>References</a></li></ul></nav><ul class=socials-nav><li><a href=https://youtube.com/BenjieJiao target=_blank><img class=socials-nav-img title=Youtube src=/images/icon-yt.png width=30rem height=30rem></a></li><li><a href=https://github.com/benjiaomodular target=_blank><img class=socials-nav-img title=Github src=/images/icon-gh.png width=30rem height=30rem></a></li><li><a href=https://instagram.com/benjiaomodular target=_blank><img class=socials-nav-img title=Instagram src=/images/icon-ig.png width=30rem height=30rem></a></li><li><a href=https://facebook.com/benjiaomodular target=_blank><img class=socials-nav-img title=Facebook src=/images/icon-fb.png width=30rem height=30rem></a></li></ul><div class=ko-fi-button><script type=text/javascript src=https://storage.ko-fi.com/cdn/widget/Widget_2.js></script><script type=text/javascript>kofiwidget2.init('Support Me on Ko-fi','#000000','C0C24WFYS'),kofiwidget2.draw()</script></div><p class=sidebar-copyright>&copy; 2024. All rights reserved.</p></div></aside><main class="content container"><div class="single post"><h1 class=title>MiniVCA</h1><time datetime=2021-12-15T00:00:00Z class=post-date>Wed, Dec 15, 2021</time><div class=tag-section><a class=post-tag href=https://benjiaomodular.com/tags/+/-12v/>+/-12v</a>
<a class=post-tag href=https://benjiaomodular.com/tags/analog/>analog</a>
<a class=post-tag href=https://benjiaomodular.com/tags/pcb/>pcb</a></div><p>I&rsquo;ve been using <a href=/post/2021-03-12-vactrol-vca>DIY Vactrols</a> for my Voltage Controlled Amplifiers for the longest time. They&rsquo;re very easy to build and they work alright.</p><p>My problem with them, though, is that their response when doing swells isn&rsquo;t that good. They would start out quiet then ramp up really quick to max volume.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/LM13700_VCA.jpg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/LM13700_VCA.jpg></a><div class=figure-caption>The perfboard prototype of my LM13700 VCA</div></figure><p>To address this, I decided to upgrade from vactrols to this LM13700-based one inspired by <a href=https://drive.google.com/file/d/1J9KlYRYUHS_VxaGyPMjCsaK7Lp2Q8HFu/view>Juanito Moore&rsquo;s design</a>.</p><p>Compared to my LED vactrol VCA&rsquo;s this one has a more linear response to the CV input which lets me do smoother swells and fades with my ADSR. I also put in a secondary CV input so I can add texture and movement from an LFO.</p><p>Here&rsquo;s a demo with me using a perfboard-prototype of this circuit.<div style=position:relative;padding-bottom:56.25%;height:0;overflow:hidden><iframe src=https://www.youtube.com/embed/ZNuvyAHcX_w style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen title="YouTube Video"></iframe></div></p><p>I also have a demo video of the PCB version which includes some assembly steps. I use v1.0 on the video.<div style=position:relative;padding-bottom:56.25%;overflow:hidden;display:block><iframe src="https://www.youtube.com/embed/6OXSt60xfiQ?start=" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen frameborder=0 title="YouTube Video"></iframe></div><p></p></p><h1 id=bill-of-materials>Bill of Materials</h1><p>Here&rsquo;s a list of what I used in this project. All resistors are 1/4W, electrolytics are 5mm diameter at most, box type caps are 5.00mm pitch.</p><h4 id=passives>Passives</h4><ul><li>2 x 100uF capcitor</li><li>2 x 120pF capacitor</li><li>4 x 100nF capacitor</li><li>3 x 10k resistor</li><li>4 x 20k resistor</li><li>2 x 100r resistor</li><li>1 x 47k resistor</li><li>1 x 680r resistor</li><li>2 x 100k resistor</li><li>2 x 3mm LED</li></ul><h4 id=ics-and-transistors>ICs and Transistors</h4><ul><li>1 x LM13700 IC</li><li>1 x TL072</li><li>1 x BC559</li></ul><h4 id=hardware>Hardware</h4><ul><li>2 x B100k potentiometers (<a href="https://www.mouser.ph/ProductDetail/Alpha-Taiwan/RV09AF-40-20K-B100K?qs=eadLBtAAYOcDATbz39dQgg%3D%3D">RV09AF-40-20K-B100K</a>)</li><li>1 x 8-pin DIP socket</li><li>1 x 16-pin DIP socket</li><li>4 x 3.5mm audio jack</li><li>1 x 2x8 IDC PCB header for power (for standard Eurorack supplies)</li><li>1 x 6-pin JST PCB header for power (what I use in my system)</li></ul><h4 id=if-building-pcb>If building PCB</h4><ul><li>1 x 1x16 P2.54 Pin Header</li><li>1 x 1x16 P2.54 Pin Sockets</li><li>1 x 12mm hex standoff</li><li>1 x M3 nut</li><li>1 x 5mm M3 screw</li></ul><h1 id=schematics>Schematics</h1><p>This is another straightforward build. You can find the original drawing <a href=https://drive.google.com/file/d/1J9KlYRYUHS_VxaGyPMjCsaK7Lp2Q8HFu/view>here</a>.</p><p>The weird pin header setup in my schematics is for my PCB layout. I&rsquo;ve broken down the circuit into two separate boards. You can ignore those and connect the two ends directly if you&rsquo;re building this on perfboard/stripboard.</p><p>Click on an image to zoom.</p><p><strong>1 of 2 - The main board</strong> - This contains most elements of the VCA circuit.<figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA_1.0.svg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA_1.0.svg></a></figure></p><p><strong>2 of 2 - Power</strong> - This contains the power jacks, some bypass capacitors for the ICs, and some bulk capacitors at the power supply.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA_Power.svg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA_Power.svg></a></figure><p>This is probably not the most efficient way of doing this as I am only using half of an LM13700 chip. Future modifications might include having two independent VCA&rsquo;s in the same module.</p><p>My KiCAD files are on <a href=https://github.com/benjiaomodular/MiniVCA>my Github page</a>. I have some PCBs for this on the way as well. Will be testing those out soon. Follow me on IG <a href=https://instagram.com/benjiaomodular>@benjiaomodular</a> for updates. Tag me if you&rsquo;ve built this!</p><h1 id=pcb>PCB</h1><p>My first run of this was sponsored by <a href=https://pcbway.com>PCBWay</a>. Just like with <a href=/post/2021-12-03-volt-per-octave-40106-vco>my MiniOSC build</a>, this one is split into three separate board &ndash; front, control, and main.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA-pcb-front.jpg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA-pcb-front.jpg></a></figure><p>The panels can be snapped off using <a href=/post/2022-01-03-mousebites/>mousebites</a> and the remaining material can be sanded/filed down flush to the edge of the boards.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA-pcb-back.jpg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/MiniVCA-pcb-back.jpg></a></figure><h3 id=connections-between-panels>Connections between panels</h3><p>The front panel and the control board are held together by the 3.5mm audio jacks.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-jacks.jpg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-jacks.jpg></a></figure><p>The control board and the main board are coupled at two points: the 12mm M3 brass standoff and the 16-pin headers.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-standoff.jpg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-standoff.jpg></a></figure><p>The pins also carry power and audio signals between the two boards.<figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-pins.jpg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-pins.jpg></a></figure></p><h3 id=power-options>Power options</h3><p>I provided two possible options for powering these boards:</p><ol><li>The first one is a standard <strong>2x8 IDC connector</strong> found in most Eurorack modules. This is the one I&rsquo;d recommend if you already have a Eurorack system.</li><li>The second one is a <strong>6-pin JST header</strong> which I use for all my modules. I find the more compact and easier to buy where I&rsquo;m from.</li></ol><figure class=article-figure><a href=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-power.jpg><img class=article-image src=https://benjiaomodular.com/post/2021-12-17-lm13700-vca/vca-power.jpg></a></figure><p>You&rsquo;ll only have to pick one to use on your board.</p><h3 id=custom-kicad-footprints>Custom KiCad footprints</h3><p>This was my first time trying out custom footprints for KiCad.</p><p>I made my own footprint for the RV09-type potentiometers as well as some guide lines for the panels. You can find <a href=https://github.com/benjiaomodular/KiCadLibraries>my KiCad footprint libraries on Github</a>.</p><h3 id=where-to-get-one>Where to get one</h3><p>You can order the boards directly from my <a href=https://www.pcbway.com/project/shareproject/MiniVCA_An_LM13700_based_Voltage_Controlled_Amplifier_module_75f1f6f6.html>PCBWay community page</a>. My last print cost me $55 for 5 pieces not including shipping.</p><p>You may also download the Gerber files from my <a href=https://github.com/benjiaomodular/MiniVCA/tree/master/Fabrication>Github</a>, or through the links below.</p><h3 id=versions>Versions</h3><h4 id=11---corrections-from-first-run>1.1 - Corrections from first run</h4><p>Resolved the major issue found in v1.0. Also trying out some label options.</p><ul><li>Fixed the footprint for the LM13700 IC</li><li>All labels on the front panel were moved to the F.Mask layer. I liked the bare copper look better than silk screen.</li></ul><table><thead><tr><th>Title</th><th>Filename</th></tr></thead><tbody><tr><td>Schematics</td><td><a href=https://github.com/benjiaomodular/MiniVCA/raw/master/PDF/MiniVCA%201.1.pdf>MiniVCA 1.1.pdf</a></td></tr><tr><td>Gerber Files</td><td><a href=https://github.com/benjiaomodular/MiniVCA/raw/master/Fabrication/MiniVCA%201.1.zip>MiniVCA 1.1.zip</a></td></tr></tbody></table><h4 id=10---initial-release>1.0 - Initial release</h4><p>This works, but with a minor issue with the LM13700.</p><ul><li>[Issue] I used the wrong footprint for the LM13700. The one I used was too wide. I wasn&rsquo;t able to use an IC socket, but I was able to get it to work by bending the LM13700&rsquo;s pins until they go through the holes.</li></ul><table><thead><tr><th>Title</th><th>Filename</th></tr></thead><tbody><tr><td>Schematics</td><td><a href=https://github.com/benjiaomodular/MiniVCA/raw/master/PDF/MiniVCA%201.0.pdf>MiniVCA 1.0.pdf</a></td></tr><tr><td>Gerber Files</td><td><a href=https://github.com/benjiaomodular/MiniVCA/raw/master/Fabrication/MiniVCA%201.0.zip>MiniVCA 1.0.zip</a></td></tr></tbody></table><h3 id=featured-builds>Featured builds</h3><p>Other makers have built this circuit themselves. Check them out:</p><ul><li><a href=https://www.instagram.com/p/Cawh2zOONju/>@zzetsuzz&rsquo;s build</a></li><li><a href=https://www.instagram.com/p/Cc-cwy3prTq/>@sick_trash&rsquo;s build</a></li><li><a href="https://www.instagram.com/p/CegusWXNWtA/?igshid=MDJmNzVkMjY%3D">@sid_rockett&rsquo;s build</a></li></ul><p>Let me know if you&rsquo;ve built it! Tag me on Instagram <a href=https://instagram.com/benjiaomodular>@benjiaomodular</a>.</p></div></main><script async src="https://www.googletagmanager.com/gtag/js?id=G-P9PT1HTQR7"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-P9PT1HTQR7',{anonymize_ip:!1})}</script></body></html>