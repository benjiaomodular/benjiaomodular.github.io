<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en-us lang=en-us><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=generator content="Hugo 0.83.0"><meta name=viewport content="width=device-width,initial-scale=1"><title>MiniADSR &#183; benjiaomodular</title><meta name=description content="A four parameter envelope generator on PCB"><meta property="og:title" content="MiniADSR"><meta property="og:description" content="A four parameter envelope generator on PCB"><meta property="og:type" content="website"><meta property="og:image" content="https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR.resized.jpg"><meta property="og:url" content="https://benjiaomodular.com/post/2022-02-02-mini-adsr/"><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/print.css media=print><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/poole.css><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/syntax.css><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/hyde.css><link type=text/css rel=stylesheet href=https://benjiaomodular.com/css/main.css><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel=stylesheet><link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400&family=Exo+2:wght@700&display=swap" rel=stylesheet><link rel=apple-touch-icon-precomposed sizes=144x144 href=/images/favicon/apple-touch-icon.png><link rel="shortcut icon" href=/images/favicon/favicon.ico><link rel="shortcut icon" type=image/png href=/images/favicon/icon-192x192.png><link rel="shortcut icon" sizes=192x192 href=/images/favicon/icon-192x192.png></head><body><aside class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><a href=https://benjiaomodular.com/><h1>benjiaomodular</h1></a><p class=lead>My personal Synth DIY notes.</p></div><nav><ul class=sidebar-nav><li><a href=https://benjiaomodular.com/>Modules</a></li><li><a href=https://benjiaomodular.com/about/>About</a></li></ul></nav><ul class=socials-nav><li><a href=https://youtube.com/BenjieJiao target=_blank><img class=socials-nav-img title=Youtube src=/images/icon-yt.png width=30rem height=30rem></a></li><li><a href=https://github.com/benjiaomodular target=_blank><img class=socials-nav-img title=Github src=/images/icon-gh.png width=30rem height=30rem></a></li><li><a href=https://instagram.com/benjiaomodular target=_blank><img class=socials-nav-img title=Instagram src=/images/icon-ig.png width=30rem height=30rem></a></li><li><a href=https://facebook.com/benjiaomodular target=_blank><img class=socials-nav-img title=Facebook src=/images/icon-fb.png width=30rem height=30rem></a></li></ul><p class=sidebar-copyright>&copy; 2022. All rights reserved.</p></div></aside><main class="content container"><div class="single post"><h1 class=title>MiniADSR</h1><time datetime=2022-02-02T00:00:00Z class=post-date>Wed, Feb 2, 2022</time><div class=tag-section><a class=post-tag href=https://benjiaomodular.com/tags/+/-12v/>+/-12v</a>
<a class=post-tag href=https://benjiaomodular.com/tags/analog/>analog</a>
<a class=post-tag href=https://benjiaomodular.com/tags/pcb/>pcb</a></div><div class=toc><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#build>Build</a><ul><li><a href=#bill-of-materials>Bill of Materials</a></li><li><a href=#schematics>Schematics</a></li><li><a href=#pcb>PCB</a></li><li><a href=#some-build-notes>Some build notes</a></li></ul></li><li><a href=#tests>Tests</a><ul><li><a href=#test-setup>Test setup</a></li><li><a href=#results>Results</a></li></ul></li><li><a href=#demos>Demos</a></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div><h2 id=introduction>Introduction</h2><p>This is my take on <a href=https://www.schmitzbits.de/adsr.html>Ren√© Schmitz' Fastest Envelope in the West</a>. It&rsquo;s a four parameter envelope generator. Attack, decay, and release times can range from 200ms to 16s.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR.jpg><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR.jpg></a><div class=figure-caption>A front view of MiniADSR v1.0</div></figure><p>The final build is in a standard 4HP Eurorack panel.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Drawing.png><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Drawing.png></a><div class=figure-caption>My layout for MiniADSR v1.0</div></figure><h2 id=build>Build</h2><h3 id=bill-of-materials>Bill of Materials</h3><p>Applicable for v1.0.1 PCB. Here&rsquo;s a list of what I used. All resistors are 1/4W, electrolytics are 5mm diameter at most, box type caps are 5.00mm pitch.</p><h4 id=passives>Passives</h4><ul><li>1 x 10nF capacitor</li><li>1 x 10uF capacitor</li><li>1 x 1uF capacitor (can also be substituted with values from 470nF to 4.7uF)</li><li>2 x 100uF capacitor</li><li>2 x 100nF capacitor</li><li>4 x 10k resistor</li><li>4 x 4.7k resistor</li><li>1 x 22k resistor</li><li>3 x 100r resistor</li><li>5 x 1N4148 diode</li><li>2 x 3mm LEDs (i used red)</li></ul><h4 id=transistors-and-ics>Transistors and ICs</h4><ul><li>3 x BC547 transistor</li><li>1 x LM555 timer IC</li><li>1 x TL072 operational amplifier</li></ul><h4 id=hardware>Hardware</h4><ul><li>3 x 1M potentiometer (<a href="https://www.mouser.ph/ProductDetail/Alpha-Taiwan/RV09AF-40-20K-B1M?qs=ELfKxecGRndtlsh4tKfhTA%3D%3D">RV09AF-40-20K-B1M</a>)</li><li>1 x 10K potentiometer (<a href="https://www.mouser.ph/ProductDetail/Alpha-Taiwan/RV09AF-40-20K-B10K?qs=3S3d23pxJ3A%2FqCcmbiOtBw%3D%3D">RV09AF-40-20K-B10K</a>)</li><li>2 x 3.5mm audio jack</li><li>1 x 1x14 2.54mm pin headers</li><li>1 x 1x14 2.54mm pin sockets</li><li>1 x 12mm hex standoff</li><li>1 x M3 nut</li><li>1 x 5mm M3 screw</li></ul><h3 id=schematics>Schematics</h3><p>Version 1.0.x has the bare minimum controls for an ADSR. Four knobs, one input, and one output.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MinIADSR_v1.0.1_Schematics.png><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MinIADSR_v1.0.1_Schematics.png></a></figure><p>Please don&rsquo;t mind the weird connector pins. This was done to accommodate the multi-board setup. If you are building it on perfboard/breadboard, just connect matching numbers (eg. A1-B1 will be a point of connection).</p><h3 id=pcb>PCB</h3><p>PCB shops use Gerber files for etching copper traces, printing labels, drilling holes, and other manufacturing steps. You can download my zipped Gerber files for a version you like and upload those into their website.</p><p>My PCBs in this series were sponsored by <a href=https://www.pcbway.com/>PCBWay</a> &ndash; a great option for prototyping. Use their <a href=https://www.pcbway.com/QuickOrderOnline.aspx>Quick-order PCB tool</a> to get an instant quotation on the files.</p><p>This build requires three PCBs: Main, Control, and Front. Make sure to print all three of them!</p><h4 id=versions>Versions</h4><h5 id=101-minor-fixes>1.0.1. Minor fixes</h5><p>Addresses issues present in v1.0.</p><ul><li>Fixed connection of R7 to Q2 pin 1.</li><li>Updated C2 value to 10uF.</li><li>Change sustain pot from 1M to 10k.</li><li>C3 from 100uF to 1uF.</li><li>Added version numbers.</li></ul><table><thead><tr><th>Title</th><th>Filename</th></tr></thead><tbody><tr><td>Schematics</td><td><a href=https://github.com/benjiaomodular/MiniADSR/raw/main/Exports/MiniADSR%201.0.1.pdf>MiniADSR 1.0.1.pdf</a></td></tr><tr><td>Gerber Files</td><td><a href=https://github.com/benjiaomodular/MiniADSR/raw/main/Fabrication/MiniADSR%20v1.0.1/MiniADSR%201.0.1%20-%25Main.zip>MiniADSR 1.0.1 - Main.zip</a></td></tr><tr><td></td><td><a href=https://github.com/benjiaomodular/MiniADSR/raw/main/Fabrication/MiniADSR%20v1.0.1/MiniADSR%201.0.1%20-%25Control.zip>MiniADSR 1.0.1 - Control.zip</a></td></tr><tr><td></td><td><a href=https://github.com/benjiaomodular/MiniADSR/raw/main/Fabrication/MiniADSR%20v1.0.1/MiniADSR%201.0.1%20-%25Front.zip>MiniADSR 1.0.1 - Front.zip</a></td></tr></tbody></table><h5 id=10-initial-design>1.0. Initial Design</h5><p>This has some issues that require bodging.</p><ul><li>Wrong connection from R7. This requires modification of PCB traces if you really want to build using this version.</li><li>Wrong value for C2, C3, and Sustain pot.</li></ul><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Bodge.jpg><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Bodge.jpg></a><div class=figure-caption>MiniADSR v1.0 fixes. Cut through the red lines, add a wire on the green.</div></figure><h3 id=some-build-notes>Some build notes</h3><h4 id=connections-between-panels>Connections between panels</h4><p>The front panel and the control board are held together by the 3.5mm audio jacks. The control board and the main board are coupled at two points: the 12mm M3 brass standoff and the 16-pin headers.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Standoffs.jpg><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Standoffs.jpg></a><div class=figure-caption>The 12mm M3 brass standoff I used to connect the control and main boards</div></figure><p>The pins also carry power and audio signals between the two boards.</p><p>The photo shows a bit of space between the pin socket and the board. I tried to use a 11mm M3 brass standoff but it seemed too short. I recommend installing the standoff before soldering to ensure that the boards end up parallel to each other.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Pins.jpg><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Pins.jpg></a></figure><h4 id=power-options>Power options</h4><p>I provided two possible options for powering these boards:</p><ol><li>The first one is a standard <strong>2x8 IDC connector</strong> found in most Eurorack modules. This is the one I&rsquo;d recommend if you already have a Eurorack system.</li><li>The second one is a <strong>6-pin JST header</strong> which I use for all my modules. I find the more compact and easier to buy where I&rsquo;m from.</li></ol><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Power.jpg><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Power.jpg></a></figure><p>You&rsquo;ll only have to pick one to use on your board.</p><h4 id=custom-kicad-footprints>Custom KiCad footprints</h4><p>I made my own footprint for the RV09-type potentiometers as well as some guide lines for the panels. Download and install it if you wan&rsquo;t to modify the PCB. You can find <a href=https://github.com/benjiaomodular/KiCadLibraries>my KiCad footprint libraries on Github</a>.</p><h2 id=tests>Tests</h2><h3 id=test-setup>Test setup</h3><p>The range of attack, decay, and release times are dictated by C3. I ran a couple of tests with my oscilloscope to help you decide on the value to use. I recorded the output at different knob positions (minimum, 9 o&rsquo;clock, 12 o&rsquo;clock, 3 o&rsquo;clock, and maximum).</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/DS1Z_QuickPrint23.png><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/DS1Z_QuickPrint23.png></a><div class=figure-caption>A screenshot from my oscilloscope with yellow as the gate input and blue as the MiniADSR's output.</div></figure><h3 id=results>Results</h3><p>Attack duration tests were done with the decay and knobs at minimum and sustain knob at max. Decay and release duration tests were done with sustain at max.</p><figure class=article-figure><a href=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Tests.png><img class=article-image src=https://benjiaomodular.com/post/2022-02-02-mini-adsr/MiniADSR-Tests.png></a></figure><p>I found that the lower values were useful for short generative bleep-bloops, while the higher values were useful for long swells especially when performing with a keyboard.</p><p>My plans for v1.1 will include a range switch that would add a capacitor in parallel to make both short and long range options available in one module.</p><h2 id=demos>Demos</h2><p>You can watch my demo and build video of my PCB version on Youtube.</p><div style=position:relative;padding-bottom:56.25%;overflow:hidden;display:block><iframe src="https://www.youtube.com/embed/OM3_l7qH5l8?start=" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen frameborder=0 title="YouTube Video"></iframe></div><p></p><p>I also built this module on perfboard last year. You can find a demo in my <a href=/post/2021-08-12-adsr-envelope-generator/>ADSR Envelope Generator</a>post or on Youtube channel:</p><div style=position:relative;padding-bottom:56.25%;overflow:hidden;display:block><iframe src="https://www.youtube.com/embed/p9MS7MoeToE?start=" style=position:absolute;top:0;left:0;width:100%;height:100%;border:0 allowfullscreen frameborder=0 title="YouTube Video"></iframe></div><p></p><h2 id=conclusion>Conclusion</h2><p>I&rsquo;m pretty happy with how this module turned out. I&rsquo;m working on a more full featured version of this and looking into a range switch and a manual trigger button.</p><p>Follow me on <a href=https://youtube.com/BenjieJiao>Youtube</a> and <a href=https://instagram.com/benjiaomodular>Instagram</a> for updates!</p></div></main><script async src="https://www.googletagmanager.com/gtag/js?id=G-P9PT1HTQR7"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-P9PT1HTQR7',{anonymize_ip:!1})}</script></body></html>